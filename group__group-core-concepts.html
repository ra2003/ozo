<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OZO 「お象」: Concepts</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OZO 「お象」
   </div>
   <div id="projectbrief">Boost.Asio and libpq based asynchronous PostgreSQL unofficial header-only C++17 client library.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__group-core-concepts.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Types</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Concepts<div class="ingroups"><a class="el" href="group__group-core.html">Core</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>Library-wide concepts emulation mechanism. </p>
<p>We decide to use Concept-style meta programming to make easy to extend, adapt and test the library. So here is our own reinvented wheel of C++ Concepts built on template constants and std::enable_if. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_operator_not.html">OperatorNot</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Negation operator support concept.  <a href="interface_operator_not.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_output_iterator.html">OutputIterator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output Iterator concept.  <a href="interface_output_iterator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_forward_iterator.html">ForwardIterator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward Iterator concept.  <a href="interface_forward_iterator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_iterable.html">Iterable</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="interface_iterable.html" title="Iterable concept.">Iterable</a> concept.  <a href="interface_iterable.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_insert_iterator.html">InsertIterator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert Iterator concept.  <a href="interface_insert_iterator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_completion_token.html">CompletionToken</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Completion token concept.  <a href="interface_completion_token.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_handler.html">Handler</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="interface_handler.html" title="Handler concept.">Handler</a> concept.  <a href="interface_handler.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_has_definition.html">HasDefinition</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Condition indicates if type has corresponding type traits for PostgreSQL.  <a href="interface_has_definition.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Types</h2></td></tr>
<tr class="memitem:gaec336e235cdaabead728b12ecb63b38a"><td class="memTemplParams" colspan="2">template&lt;bool Condition, typename Type  = void&gt; </td></tr>
<tr class="memitem:gaec336e235cdaabead728b12ecb63b38a"><td class="memTemplItemLeft" align="right" valign="top">using&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-core-concepts.html#gaec336e235cdaabead728b12ecb63b38a">ozo::Require</a> = Type</td></tr>
<tr class="memdesc:gaec336e235cdaabead728b12ecb63b38a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Concept requirement emulation.  <a href="group__group-core-concepts.html#gaec336e235cdaabead728b12ecb63b38a">More...</a><br /></td></tr>
<tr class="separator:gaec336e235cdaabead728b12ecb63b38a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga5cb469295c856e5df036e640a55322b1"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga5cb469295c856e5df036e640a55322b1"><td class="memTemplItemLeft" align="right" valign="top">constexpr auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-core-concepts.html#ga5cb469295c856e5df036e640a55322b1">ozo::Nullable</a></td></tr>
<tr class="memdesc:ga5cb469295c856e5df036e640a55322b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if type is marked as conformed to nullable requirements.  <a href="group__group-core-concepts.html#ga5cb469295c856e5df036e640a55322b1">More...</a><br /></td></tr>
<tr class="separator:ga5cb469295c856e5df036e640a55322b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Types</h2>
<a id="gaec336e235cdaabead728b12ecb63b38a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaec336e235cdaabead728b12ecb63b38a">&#9670;&nbsp;</a></span>Require</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool Condition, typename Type  = void&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="group__group-core-concepts.html#gaec336e235cdaabead728b12ecb63b38a">ozo::Require</a> = typedef Type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Concept requirement emulation. </p>
<p>This is requirement simulation type, which is the alias to std::enable_if_t. It is pretty simple to use it with pseudo-concepts such as <a class="el" href="interface_operator_not.html" title="Negation operator support concept.">OperatorNot</a>, <a class="el" href="interface_iterable.html" title="Iterable concept.">Iterable</a> and so on. E.g. overloading functions via Require: </p><div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">decltype(<span class="keyword">auto</span>) <a class="code" href="group__group-core-functions.html#gacfad17554992a1f9e9bfe9d92854b743">unwrap</a>(T&amp;&amp; c, <a class="code" href="group__group-core-concepts.html#gaec336e235cdaabead728b12ecb63b38a">Require</a>&lt;!<a class="code" href="group__group-core-concepts.html#ga5cb469295c856e5df036e640a55322b1">Nullable</a>&lt;T&gt;&gt;* = 0) {</div>
<div class="line">    <span class="keywordflow">return</span> c;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">decltype(<span class="keyword">auto</span>) <a class="code" href="group__group-core-functions.html#gacfad17554992a1f9e9bfe9d92854b743">unwrap</a>(T&amp;&amp; c, <a class="code" href="group__group-core-concepts.html#gaec336e235cdaabead728b12ecb63b38a">Require</a>&lt;<a class="code" href="group__group-core-concepts.html#ga5cb469295c856e5df036e640a55322b1">Nullable</a>&lt;T&gt;&gt;* = 0) {</div>
<div class="line">    <span class="keywordflow">return</span> *c;</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Condition</td><td>- logical combination of concepts. </td></tr>
    <tr><td class="paramname">Type</td><td>- return type, <em>void</em> by default. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Type if Condition is true </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga5cb469295c856e5df036e640a55322b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5cb469295c856e5df036e640a55322b1">&#9670;&nbsp;</a></span>Nullable</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr auto ozo::Nullable</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates if type is marked as conformed to nullable requirements. </p>
<p>These next types are defined as <code>Nullable</code> via <a class="el" href="group__group-ext.html">External adaptors</a> of the library:</p><ul>
<li><a class="el" href="group__group-ext-boost-optional.html">boost::optional</a>,</li>
<li><a class="el" href="group__group-ext-boost-scoped__ptr.html">boost::scoped_ptr</a>,</li>
<li><a class="el" href="group__group-ext-boost-shared__ptr.html">boost::shared_ptr</a>,</li>
<li><a class="el" href="group__group-ext-boost-weak__ptr.html">boost::weak_ptr</a>,</li>
<li><a class="el" href="group__group-ext-std-nullopt.html">std::nullopt_t</a>,</li>
<li><a class="el" href="group__group-ext-std-nullptr.html">std::nullptr</a>,</li>
<li><a class="el" href="group__group-ext-std-optional.html">std::optional</a>,</li>
<li><a class="el" href="group__group-ext-std-shared__ptr.html">std::shared_ptr</a>,</li>
<li><a class="el" href="group__group-ext-std-unique__ptr.html">std::unique_ptr</a>,</li>
<li><a class="el" href="group__group-ext-std-weak__ptr.html">std::weak_ptr</a>.</li>
</ul>
<p>If it is needed to mark type as nullable then <code>ozo::is_nullable</code> from the type should be specialized as <code>std::true_type</code> type. If the type has to be allocated in special way &mdash; <code><a class="el" href="group__group-core-functions.html#gacdbea0d12bdc6a1279c010659190a1a3" title="Allocates nullable object of given type.">ozo::allocate_nullable()</a></code> should be specialized (see <a class="el" href="group__group-ext-std-shared__ptr.html">std::shared_ptr</a> as an example).</p>
<h3>Example</h3>
<p>Raw pointers are not supported as <code>Nullable</code> by default, because this library uses RAII model for objects and no special deallocation functions are used. But if it is really needed and you want to deallocate the allocated objects manually you can add them as described below.</p>
<div class="fragment"><div class="line"><span class="comment">//Add raw pointer to nullables</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>ozo {</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Mark raw pointer as nullable</span></div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span>is_nullable&lt;T*&gt; : std::true_type {};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Specify allocation function</span></div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span>allocate_nullable_impl&lt;T*&gt; {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Alloc&gt;</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> apply(T*&amp; out, <span class="keyword">const</span> Alloc&amp;) {</div>
<div class="line">        out = <span class="keyword">new</span> T();</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__group-core-functions.html#ga730b6174c7f8beb62c3d84616d936dc1" title="Indicates if value is in null state.">is_null()</a>, <a class="el" href="group__group-core-functions.html#gacdbea0d12bdc6a1279c010659190a1a3" title="Allocates nullable object of given type.">allocate_nullable()</a>, init_nullable(), reset_nullable() </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__group-core-functions_html_gacfad17554992a1f9e9bfe9d92854b743"><div class="ttname"><a href="group__group-core-functions.html#gacfad17554992a1f9e9bfe9d92854b743">ozo::unwrap</a></div><div class="ttdeci">constexpr decltype(auto) unwrap(T &amp;&amp;v) noexcept(noexcept(unwrap_impl&lt; std::decay_t&lt; T &gt;&gt;::apply(std::forward&lt; T &gt;(v))))</div><div class="ttdoc">Unwraps argument underlying value or forwards the argument.</div><div class="ttdef"><b>Definition:</b> unwrap.h:57</div></div>
<div class="ttc" id="agroup__group-core-concepts_html_gaec336e235cdaabead728b12ecb63b38a"><div class="ttname"><a href="group__group-core-concepts.html#gaec336e235cdaabead728b12ecb63b38a">ozo::Require</a></div><div class="ttdeci">Type Require</div><div class="ttdoc">Concept requirement emulation.</div><div class="ttdef"><b>Definition:</b> concept.h:54</div></div>
<div class="ttc" id="agroup__group-core-concepts_html_ga5cb469295c856e5df036e640a55322b1"><div class="ttname"><a href="group__group-core-concepts.html#ga5cb469295c856e5df036e640a55322b1">ozo::Nullable</a></div><div class="ttdeci">constexpr auto Nullable</div><div class="ttdoc">Indicates if type is marked as conformed to nullable requirements.</div><div class="ttdef"><b>Definition:</b> nullable.h:65</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
