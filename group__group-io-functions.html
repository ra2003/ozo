<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OZO 「お象」: Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OZO 「お象」
   </div>
   <div id="projectbrief">Boost.Asio and libpq based asynchronous PostgreSQL unofficial header-only C++17 client library.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__group-io-functions.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Functions<div class="ingroups"><a class="el" href="group__group-io.html">Input/Output</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>IO-related functions. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1174247614fc993232703e8618a45b8d"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga1174247614fc993232703e8618a45b8d"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-io-functions.html#ga1174247614fc993232703e8618a45b8d">ozo::fit_array_size</a> (T &amp;array, <a class="el" href="group__group-type__system-types.html#ga1d101b3c4c4956099d1b6db01c5e5a7b">size_type</a> count)</td></tr>
<tr class="memdesc:ga1174247614fc993232703e8618a45b8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fits array container size to reqired one.  <a href="group__group-io-functions.html#ga1174247614fc993232703e8618a45b8d">More...</a><br /></td></tr>
<tr class="separator:ga1174247614fc993232703e8618a45b8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeaf5c245bf81dbe56ee97c2a6b1a2714"><td class="memTemplParams" colspan="2">template&lt;typename OidMap , typename Out &gt; </td></tr>
<tr class="memitem:gaeaf5c245bf81dbe56ee97c2a6b1a2714"><td class="memTemplItemLeft" align="right" valign="top">istream &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-io-functions.html#gaeaf5c245bf81dbe56ee97c2a6b1a2714">ozo::recv</a> (istream &amp;in, <a class="el" href="group__group-type__system-types.html#ga442ba8c3d090543cf6278acb4fed5e66">oid_t</a> oid, <a class="el" href="group__group-type__system-types.html#ga1d101b3c4c4956099d1b6db01c5e5a7b">size_type</a> size, const OidMap &amp;oids, Out &amp;out)</td></tr>
<tr class="memdesc:gaeaf5c245bf81dbe56ee97c2a6b1a2714"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive object from an input stream and control incoming oid.  <a href="group__group-io-functions.html#gaeaf5c245bf81dbe56ee97c2a6b1a2714">More...</a><br /></td></tr>
<tr class="separator:gaeaf5c245bf81dbe56ee97c2a6b1a2714"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47f550ea543454ef34d5aba8a48ee765"><td class="memTemplParams" colspan="2">template&lt;typename OidMap , typename Out &gt; </td></tr>
<tr class="memitem:ga47f550ea543454ef34d5aba8a48ee765"><td class="memTemplItemLeft" align="right" valign="top">istream &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-io-functions.html#ga47f550ea543454ef34d5aba8a48ee765">ozo::recv_data_frame</a> (istream &amp;in, const OidMap &amp;oids, Out &amp;out)</td></tr>
<tr class="memdesc:ga47f550ea543454ef34d5aba8a48ee765"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive data frame of an object from an input stream.  <a href="group__group-io-functions.html#ga47f550ea543454ef34d5aba8a48ee765">More...</a><br /></td></tr>
<tr class="separator:ga47f550ea543454ef34d5aba8a48ee765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf265d28b5e53b3f003f70be84ebf033e"><td class="memTemplParams" colspan="2">template&lt;typename OidMap , typename Out &gt; </td></tr>
<tr class="memitem:gaf265d28b5e53b3f003f70be84ebf033e"><td class="memTemplItemLeft" align="right" valign="top">istream &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-io-functions.html#gaf265d28b5e53b3f003f70be84ebf033e">ozo::recv_frame</a> (istream &amp;in, const OidMap &amp;oids, Out &amp;out)</td></tr>
<tr class="memdesc:gaf265d28b5e53b3f003f70be84ebf033e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive full frame of an object from an input stream.  <a href="group__group-io-functions.html#gaf265d28b5e53b3f003f70be84ebf033e">More...</a><br /></td></tr>
<tr class="separator:gaf265d28b5e53b3f003f70be84ebf033e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d10f201776f9d4923570a410892fbd2"><td class="memTemplParams" colspan="2">template&lt;class OidMap , class In &gt; </td></tr>
<tr class="memitem:ga1d10f201776f9d4923570a410892fbd2"><td class="memTemplItemLeft" align="right" valign="top">ostream &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-io-functions.html#ga1d10f201776f9d4923570a410892fbd2">ozo::send</a> (ostream &amp;out, const OidMap &amp;oid_map, const In &amp;in)</td></tr>
<tr class="memdesc:ga1d10f201776f9d4923570a410892fbd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send object to an output stream.  <a href="group__group-io-functions.html#ga1d10f201776f9d4923570a410892fbd2">More...</a><br /></td></tr>
<tr class="separator:ga1d10f201776f9d4923570a410892fbd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2694ab0fd97259154f1b05ed95287130"><td class="memTemplParams" colspan="2">template&lt;class OidMap , class In &gt; </td></tr>
<tr class="memitem:ga2694ab0fd97259154f1b05ed95287130"><td class="memTemplItemLeft" align="right" valign="top">ostream &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-io-functions.html#ga2694ab0fd97259154f1b05ed95287130">ozo::send_data_frame</a> (ostream &amp;out, const OidMap &amp;oid_map, const In &amp;in)</td></tr>
<tr class="memdesc:ga2694ab0fd97259154f1b05ed95287130"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data frame of an object to an output stream.  <a href="group__group-io-functions.html#ga2694ab0fd97259154f1b05ed95287130">More...</a><br /></td></tr>
<tr class="separator:ga2694ab0fd97259154f1b05ed95287130"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga158a33c3370ca3bcf04d623817d4902c"><td class="memTemplParams" colspan="2">template&lt;class OidMap , class In &gt; </td></tr>
<tr class="memitem:ga158a33c3370ca3bcf04d623817d4902c"><td class="memTemplItemLeft" align="right" valign="top">ostream &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-io-functions.html#ga158a33c3370ca3bcf04d623817d4902c">ozo::send_frame</a> (ostream &amp;out, const OidMap &amp;oid_map, const In &amp;in)</td></tr>
<tr class="memdesc:ga158a33c3370ca3bcf04d623817d4902c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send full frame of an object to an output stream.  <a href="group__group-io-functions.html#ga158a33c3370ca3bcf04d623817d4902c">More...</a><br /></td></tr>
<tr class="separator:ga158a33c3370ca3bcf04d623817d4902c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga282b8dbe9d8b69924f5f38851149808c"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga282b8dbe9d8b69924f5f38851149808c"><td class="memTemplItemLeft" align="right" valign="top">constexpr <a class="el" href="group__group-type__system-types.html#ga1d101b3c4c4956099d1b6db01c5e5a7b">size_type</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-io-functions.html#ga282b8dbe9d8b69924f5f38851149808c">ozo::size_of</a> (const T &amp;v)</td></tr>
<tr class="memdesc:ga282b8dbe9d8b69924f5f38851149808c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns size of object binary representation in bytes.  <a href="group__group-io-functions.html#ga282b8dbe9d8b69924f5f38851149808c">More...</a><br /></td></tr>
<tr class="separator:ga282b8dbe9d8b69924f5f38851149808c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafcf2e3d13a93aa4081ecc354db0698e6"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:gafcf2e3d13a93aa4081ecc354db0698e6"><td class="memTemplItemLeft" align="right" valign="top">constexpr <a class="el" href="group__group-type__system-types.html#ga1d101b3c4c4956099d1b6db01c5e5a7b">size_type</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-io-functions.html#gafcf2e3d13a93aa4081ecc354db0698e6">ozo::data_frame_size</a> (const T &amp;v)</td></tr>
<tr class="memdesc:gafcf2e3d13a93aa4081ecc354db0698e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns size of IO data frame.  <a href="group__group-io-functions.html#gafcf2e3d13a93aa4081ecc354db0698e6">More...</a><br /></td></tr>
<tr class="separator:gafcf2e3d13a93aa4081ecc354db0698e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5aac41958c15cffa04cffb00fe8e8d3f"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga5aac41958c15cffa04cffb00fe8e8d3f"><td class="memTemplItemLeft" align="right" valign="top">constexpr <a class="el" href="group__group-type__system-types.html#ga1d101b3c4c4956099d1b6db01c5e5a7b">size_type</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-io-functions.html#ga5aac41958c15cffa04cffb00fe8e8d3f">ozo::frame_size</a> (const T &amp;v)</td></tr>
<tr class="memdesc:ga5aac41958c15cffa04cffb00fe8e8d3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns size of full IO frame.  <a href="group__group-io-functions.html#ga5aac41958c15cffa04cffb00fe8e8d3f">More...</a><br /></td></tr>
<tr class="separator:ga5aac41958c15cffa04cffb00fe8e8d3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="gafcf2e3d13a93aa4081ecc354db0698e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafcf2e3d13a93aa4081ecc354db0698e6">&#9670;&nbsp;</a></span>data_frame_size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="group__group-type__system-types.html#ga1d101b3c4c4956099d1b6db01c5e5a7b">size_type</a> ozo::data_frame_size </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns size of IO data frame. </p>
<p>Data frame contains a data and its size as first element. The data frame has this structure:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">SECTION </th><th class="markdownTableHeadNone">SIZE  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">size </td><td class="markdownTableBodyNone">4 bytes  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">data </td><td class="markdownTableBodyNone">size_of(data) bytes  </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>&mdash; object to which size of a data frame is calculated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size_type &mdash; size of an object's data frame </dd></dl>

<p class="reference">References <a class="el" href="group__group-io-functions.html#ga282b8dbe9d8b69924f5f38851149808c">ozo::size_of()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__group-io-functions.html#ga5aac41958c15cffa04cffb00fe8e8d3f">ozo::frame_size()</a>.</p>

</div>
</div>
<a id="ga1174247614fc993232703e8618a45b8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1174247614fc993232703e8618a45b8d">&#9670;&nbsp;</a></span>fit_array_size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void ozo::fit_array_size </td>
          <td>(</td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group-type__system-types.html#ga1d101b3c4c4956099d1b6db01c5e5a7b">size_type</a>&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fits array container size to reqired one. </p>
<p>Function is used to request container which represents an array to to be able to store requested count of elements. The function may throw exception if the container can not accept the requested count of elements (see the example below).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>&mdash; container which represents an array </td></tr>
    <tr><td class="paramname">count</td><td>&mdash; required count of elements to be able to contain</td></tr>
  </table>
  </dd>
</dl>
<p>The implementation can be customized with <code>ozo::fit_array_size_impl</code> template specialization. By default it uses <code>resize()</code> function of the array container and default implementation may look like this</p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span>fit_array_size_impl {</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> apply(T&amp; array, <a class="code" href="group__group-type__system-types.html#ga1d101b3c4c4956099d1b6db01c5e5a7b">size_type</a> count) {</div>
<div class="line">        array.resize(count);</div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --><p>E.g. the implementation for a fixed size container like <code>std::array</code> may be equal to:</p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, std::<span class="keywordtype">size_t</span> S&gt;</div>
<div class="line"><span class="keyword">struct </span>fit_array_size_impl&lt;std::array&lt;T, S&gt;&gt; {</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> apply(<span class="keyword">const</span> std::array&lt;T, S&gt;&amp; array, <a class="code" href="group__group-type__system-types.html#ga1d101b3c4c4956099d1b6db01c5e5a7b">size_type</a> size) {</div>
<div class="line">        <span class="keywordflow">if</span> (size != array.size()) {</div>
<div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group__group-errors.html#gad9350dd02d3b75f22a5a49faf6a94377">ozo::system_error</a>(<a class="code" href="group__group-errors-errors.html#ggac6082be94aa8b21e440cab09413a91aca242a03d8e8a62ca2468064fac9b430a3">ozo::error::bad_array_size</a>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga5aac41958c15cffa04cffb00fe8e8d3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5aac41958c15cffa04cffb00fe8e8d3f">&#9670;&nbsp;</a></span>frame_size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="group__group-type__system-types.html#ga1d101b3c4c4956099d1b6db01c5e5a7b">size_type</a> ozo::frame_size </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns size of full IO frame. </p>
<p>The full frame contains a data frame and object's type oid as a first element. The frame has this structure:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">SECTION </th><th class="markdownTableHeadNone">SIZE  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">oid </td><td class="markdownTableBodyNone">4 bytes  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">size </td><td class="markdownTableBodyNone">4 bytes  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">data </td><td class="markdownTableBodyNone">size_of(data) bytes  </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>&mdash; object to which size of a frame is calculated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size_type &mdash; size of an object's frame </dd></dl>

<p class="reference">References <a class="el" href="group__group-io-functions.html#gafcf2e3d13a93aa4081ecc354db0698e6">ozo::data_frame_size()</a>.</p>

</div>
</div>
<a id="gaeaf5c245bf81dbe56ee97c2a6b1a2714"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeaf5c245bf81dbe56ee97c2a6b1a2714">&#9670;&nbsp;</a></span>recv()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap , typename Out &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">istream&amp; ozo::recv </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group-type__system-types.html#ga442ba8c3d090543cf6278acb4fed5e66">oid_t</a>&#160;</td>
          <td class="paramname"><em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group-type__system-types.html#ga1d101b3c4c4956099d1b6db01c5e5a7b">size_type</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const OidMap &amp;&#160;</td>
          <td class="paramname"><em>oids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Out &amp;&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive object from an input stream and control incoming oid. </p>
<p>This function is used to get an object from an input stream. It checks:</p><ul>
<li>incoming oid is acceptable by output object type &mdash; if oid can not be accepted by the type <code>ozo::system_error</code> with <code>ozo::error::oid_type_mismatch</code> will be thrown, it uses <code><a class="el" href="group__group-type__system-functions.html#gacfd82bcd9eb1845c4e73f93e2630751f">ozo::accepts_oid()</a></code> for this check;</li>
<li>null state is acceptable &mdash; if output object is not #Nullable, but null state received then <code>std::invalid_argument</code> will be thrown.</li>
</ul>
<p>For nullables the function allocates or resets nullables according to incoming data size which indicates null state via <code>ozo::null_state_size</code>. <code>ozo::reset_nullable()</code> and <code>ozo::init_nullable()</code> are used.</p>
<p>For deserialization implementation of simple objects like strings, integers, uuid and so on <code><a class="el" href="structozo_1_1recv__impl.html" title="Defines how to receive an object from an input stream.">ozo::recv_impl</a></code> is used. To deserialize complex types like <a class="el" href="interface_array.html" title="Array concept represents PostgreSQL array.">Array</a> or <a class="el" href="interface_composite.html" title="Composite concept represents PostgreSQL composite types.">Composite</a> special internal implementations are used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in</td><td>&mdash; input stream to read data from. </td></tr>
    <tr><td class="paramname">oid</td><td>&mdash; incoming oid type to check. </td></tr>
    <tr><td class="paramname">size</td><td>&mdash; incoming data size. </td></tr>
    <tr><td class="paramname">oids</td><td>&mdash; #OidMap to get oid for custom types from </td></tr>
    <tr><td class="paramname">out</td><td>&mdash; object to deserialize into </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>istream&amp; &mdash; input stream </dd></dl>

</div>
</div>
<a id="ga47f550ea543454ef34d5aba8a48ee765"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga47f550ea543454ef34d5aba8a48ee765">&#9670;&nbsp;</a></span>recv_data_frame()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap , typename Out &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">istream&amp; ozo::recv_data_frame </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const OidMap &amp;&#160;</td>
          <td class="paramname"><em>oids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Out &amp;&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive data frame of an object from an input stream. </p>
<p>This function is used to read from stream object's data frame to receive the object. E.g. it is used for array items deserialization. Data frame contains object's size and object's data. See <code><a class="el" href="group__group-io-functions.html#gafcf2e3d13a93aa4081ecc354db0698e6" title="Returns size of IO data frame.">ozo::data_frame_size()</a></code> for more details about data frame.</p>
<dl class="section note"><dt>Note</dt><dd>This function does not check objects oid on purpose.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in</td><td>&mdash; input stream </td></tr>
    <tr><td class="paramname">oids</td><td>&mdash; #OidMap to determine possible nested object's oid </td></tr>
    <tr><td class="paramname">out</td><td>&mdash; object to receive </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ostream&amp; &mdash; reference to the input stream </dd></dl>

<p class="reference">References <a class="el" href="group__group-type__system-constants.html#ga08a62363da9b736bfadc4c5587f302df">ozo::null_oid</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__group-io-functions.html#gaf265d28b5e53b3f003f70be84ebf033e">ozo::recv_frame()</a>.</p>

</div>
</div>
<a id="gaf265d28b5e53b3f003f70be84ebf033e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf265d28b5e53b3f003f70be84ebf033e">&#9670;&nbsp;</a></span>recv_frame()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap , typename Out &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">istream&amp; ozo::recv_frame </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const OidMap &amp;&#160;</td>
          <td class="paramname"><em>oids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Out &amp;&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive full frame of an object from an input stream. </p>
<p>This function is used to read from stream object's frame and receive the object. E.g. it is used for composite items deserialization. Frame contains object's type oid, object's size and object's data. See <code><a class="el" href="group__group-io-functions.html#ga5aac41958c15cffa04cffb00fe8e8d3f" title="Returns size of full IO frame.">ozo::frame_size()</a></code> for more details about the frame.</p>
<dl class="section note"><dt>Note</dt><dd>The function uses <code>ozo::recv</code> underhood, so all the checks will be made.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in</td><td>&mdash; input stream </td></tr>
    <tr><td class="paramname">oids</td><td>&mdash; #OidMap to determine object's oid </td></tr>
    <tr><td class="paramname">out</td><td>&mdash; object to receive </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ostream&amp; &mdash; reference to the output stream </dd></dl>

<p class="reference">References <a class="el" href="group__group-type__system-constants.html#ga08a62363da9b736bfadc4c5587f302df">ozo::null_oid</a>, and <a class="el" href="group__group-io-functions.html#ga47f550ea543454ef34d5aba8a48ee765">ozo::recv_data_frame()</a>.</p>

</div>
</div>
<a id="ga1d10f201776f9d4923570a410892fbd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1d10f201776f9d4923570a410892fbd2">&#9670;&nbsp;</a></span>send()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class OidMap , class In &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">ostream&amp; ozo::send </td>
          <td>(</td>
          <td class="paramtype">ostream &amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const OidMap &amp;&#160;</td>
          <td class="paramname"><em>oid_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const In &amp;&#160;</td>
          <td class="paramname"><em>in</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send object to an output stream. </p>
<p>This function is used to serialize object as query parameter. This function uses <code><a class="el" href="structozo_1_1send__impl.html" title="Defines how to send an object to an output stream.">ozo::send_impl</a></code> template specialization for simple types like integers, floating points, strings, uuid and so on. This behaviour may be customized via <code><a class="el" href="structozo_1_1send__impl.html" title="Defines how to send an object to an output stream.">ozo::send_impl</a></code> specialization. To serialize complex types like <a class="el" href="interface_array.html" title="Array concept represents PostgreSQL array.">Array</a> or <a class="el" href="interface_composite.html" title="Composite concept represents PostgreSQL composite types.">Composite</a> types special internal implementations are used. These implementation can not be customized. This function unwraps type via <code><a class="el" href="group__group-core-functions.html#gacfad17554992a1f9e9bfe9d92854b743" title="Unwraps argument underlying value or forwards the argument.">ozo::unwrap()</a></code> thus it handles properly all nullables and wrapped types. If argument is #Nullable in null state the function does nothing. In the other case it calls <code><a class="el" href="structozo_1_1send__impl.html#a3bf72d381c1c439d16c4394cc0be8602" title="Implementation of serialization object into stream.">ozo::send_impl::apply()</a></code> method for unwrapped object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>&mdash; output stream. </td></tr>
    <tr><td class="paramname">oid_map</td><td>&mdash; #OidMap to determine object's oid. </td></tr>
    <tr><td class="paramname">in</td><td>&mdash; object to send. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ostream&amp; &mdash; reference to the output stream. </dd></dl>

<p class="reference">References <a class="el" href="group__group-core-functions.html#ga730b6174c7f8beb62c3d84616d936dc1">ozo::is_null()</a>, and <a class="el" href="group__group-core-functions.html#gacfad17554992a1f9e9bfe9d92854b743">ozo::unwrap()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__group-io-functions.html#ga2694ab0fd97259154f1b05ed95287130">ozo::send_data_frame()</a>.</p>

</div>
</div>
<a id="ga2694ab0fd97259154f1b05ed95287130"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2694ab0fd97259154f1b05ed95287130">&#9670;&nbsp;</a></span>send_data_frame()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class OidMap , class In &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">ostream&amp; ozo::send_data_frame </td>
          <td>(</td>
          <td class="paramtype">ostream &amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const OidMap &amp;&#160;</td>
          <td class="paramname"><em>oid_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const In &amp;&#160;</td>
          <td class="paramname"><em>in</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send data frame of an object to an output stream. </p>
<p>This function is used to write into stream object's data frame. E.g. it is used for array items serialization. Data frame contains object's size and object's data. See <code><a class="el" href="group__group-io-functions.html#gafcf2e3d13a93aa4081ecc354db0698e6" title="Returns size of IO data frame.">ozo::data_frame_size()</a></code> for more details about data frame.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>&mdash; output stream </td></tr>
    <tr><td class="paramname">oid_map</td><td>&mdash; #OidMap to determine object's oid </td></tr>
    <tr><td class="paramname">in</td><td>&mdash; object to send </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ostream&amp; &mdash; reference to the output stream </dd></dl>

<p class="reference">References <a class="el" href="group__group-io-functions.html#ga1d10f201776f9d4923570a410892fbd2">ozo::send()</a>, and <a class="el" href="group__group-io-functions.html#ga282b8dbe9d8b69924f5f38851149808c">ozo::size_of()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__group-io-functions.html#ga158a33c3370ca3bcf04d623817d4902c">ozo::send_frame()</a>.</p>

</div>
</div>
<a id="ga158a33c3370ca3bcf04d623817d4902c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga158a33c3370ca3bcf04d623817d4902c">&#9670;&nbsp;</a></span>send_frame()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class OidMap , class In &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">ostream&amp; ozo::send_frame </td>
          <td>(</td>
          <td class="paramtype">ostream &amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const OidMap &amp;&#160;</td>
          <td class="paramname"><em>oid_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const In &amp;&#160;</td>
          <td class="paramname"><em>in</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send full frame of an object to an output stream. </p>
<p>This function is used to write into stream object's frame. E.g. it is used for composite items serialization. Frame contains object's type oid, object's size and object's data. See <code><a class="el" href="group__group-io-functions.html#ga5aac41958c15cffa04cffb00fe8e8d3f" title="Returns size of full IO frame.">ozo::frame_size()</a></code> for more details about the frame.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>&mdash; output stream </td></tr>
    <tr><td class="paramname">oid_map</td><td>&mdash; #OidMap to determine object's oid </td></tr>
    <tr><td class="paramname">in</td><td>&mdash; object to send </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ostream&amp; &mdash; reference to the output stream </dd></dl>

<p class="reference">References <a class="el" href="group__group-io-functions.html#ga2694ab0fd97259154f1b05ed95287130">ozo::send_data_frame()</a>, and <a class="el" href="group__group-type__system-functions.html#ga12dd669e4fde6aa9a15bd48852f016ca">ozo::type_oid()</a>.</p>

</div>
</div>
<a id="ga282b8dbe9d8b69924f5f38851149808c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga282b8dbe9d8b69924f5f38851149808c">&#9670;&nbsp;</a></span>size_of()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="group__group-type__system-types.html#ga1d101b3c4c4956099d1b6db01c5e5a7b">size_type</a> ozo::size_of </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns size of object binary representation in bytes. </p>
<p>This function returns binary representation size of the object is used for the PostgreSQL binary protocol.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>&mdash; object to examine </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>ozo::size_type</code> &mdash; size of object in bytes if object is not #Nullable or not in null state. </dd>
<dd>
<code>ozo::null_state_size</code> &mdash; for #Nullable object in null state.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>T has to have <code><a class="el" href="structozo_1_1type__traits.html" title="Type traits template forward declaration.">ozo::type_traits</a></code> specialization.</dd></dl>
<h3>Customization point</h3>
<p>This function can be customized for the type or concept via <code><a class="el" href="structozo_1_1size__of__impl.html" title="ozo::size_of implementation functor">ozo::size_of_impl</a></code> structure template specialization.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structozo_1_1size__of__impl.html" title="ozo::size_of implementation functor">ozo::size_of_impl</a>, <a class="el" href="group__group-type__system-mapping.html#ga208f8c018e90a843a873d56cc6acb943" title="Helper macro to define type mapping between C++ type and PostgreSQL type.">OZO_PG_BIND_TYPE</a>, <a class="el" href="group__group-type__system-mapping.html#gaab97efce284cc18ac78a761f840edde1" title="Helper macro to define custom type mapping.">OZO_PG_DEFINE_CUSTOM_TYPE</a> </dd></dl>

<p class="reference">References <a class="el" href="group__group-core-functions.html#ga730b6174c7f8beb62c3d84616d936dc1">ozo::is_null()</a>, and <a class="el" href="group__group-core-functions.html#gacfad17554992a1f9e9bfe9d92854b743">ozo::unwrap()</a>.</p>

<p class="reference">Referenced by <a class="el" href="structozo_1_1recv__impl.html#a6fa392a69319afc51405c056f6e2ed53">ozo::recv_impl&lt; Out, typename &gt;::apply()</a>, <a class="el" href="group__group-io-functions.html#gafcf2e3d13a93aa4081ecc354db0698e6">ozo::data_frame_size()</a>, and <a class="el" href="group__group-io-functions.html#ga2694ab0fd97259154f1b05ed95287130">ozo::send_data_frame()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__group-errors-errors_html_ggac6082be94aa8b21e440cab09413a91aca242a03d8e8a62ca2468064fac9b430a3"><div class="ttname"><a href="group__group-errors-errors.html#ggac6082be94aa8b21e440cab09413a91aca242a03d8e8a62ca2468064fac9b430a3">ozo::error::bad_array_size</a></div><div class="ttdeci">@ bad_array_size</div><div class="ttdoc">an array size received does not equal to the expected or not supported by the type</div><div class="ttdef"><b>Definition:</b> error.h:94</div></div>
<div class="ttc" id="agroup__group-errors_html_gad9350dd02d3b75f22a5a49faf6a94377"><div class="ttname"><a href="group__group-errors.html#gad9350dd02d3b75f22a5a49faf6a94377">ozo::system_error</a></div><div class="ttdeci">boost::system::system_error system_error</div><div class="ttdoc">Error code contaning exception of the library.</div><div class="ttdef"><b>Definition:</b> error.h:45</div></div>
<div class="ttc" id="agroup__group-type__system-types_html_ga1d101b3c4c4956099d1b6db01c5e5a7b"><div class="ttname"><a href="group__group-type__system-types.html#ga1d101b3c4c4956099d1b6db01c5e5a7b">ozo::size_type</a></div><div class="ttdeci">std::int32_t size_type</div><div class="ttdoc">PostgreSQL size type.</div><div class="ttdef"><b>Definition:</b> type_traits.h:265</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
