<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OZO 「お象」: ozo::connection&lt; OidMap, Statistics &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OZO 「お象」
   </div>
   <div id="projectbrief">Boost.Asio and libpq based asynchronous PostgreSQL unofficial header-only C++17 client library.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classozo_1_1connection.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classozo_1_1connection-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ozo::connection&lt; OidMap, Statistics &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__group-connection.html">Database connection</a> &raquo; <a class="el" href="group__group-connection-types.html">Types</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="connection_8h_source.html">ozo/connection.h</a>&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><h3>template&lt;typename OidMap, typename Statistics&gt;<br />
class ozo::connection&lt; OidMap, Statistics &gt;</h3>

<p>Default model for <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> concept. </p>
<p><code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> concept model which is used by the library as default model. The class object is non-copyable.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">OidMap</td><td>&mdash; oid map of types are used with connection </td></tr>
    <tr><td class="paramname">Statistics</td><td>&mdash; statistics of the connection (not supported yet)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread safety</dt><dd><b>Distinct objects</b>: <code>Safe</code><br  />
<b>Shared objects</b>: <code>Unsafe</code><br  />
 </dd></dl>
<dl class="section user"><dt>Models</dt><dd><code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code><br  />
</dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Types</h2></td></tr>
<tr class="memitem:ada16c3ba50d323534056665247a85077"><td class="memItemLeft" align="right" valign="top"><a id="ada16c3ba50d323534056665247a85077"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#ada16c3ba50d323534056665247a85077">native_handle_type</a> = ozo::pg::conn::pointer</td></tr>
<tr class="memdesc:ada16c3ba50d323534056665247a85077"><td class="mdescLeft">&#160;</td><td class="mdescRight">Native connection handle type. <br /></td></tr>
<tr class="separator:ada16c3ba50d323534056665247a85077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1368fcb78270380aa59c22f4f48fb1c8"><td class="memItemLeft" align="right" valign="top"><a id="a1368fcb78270380aa59c22f4f48fb1c8"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#a1368fcb78270380aa59c22f4f48fb1c8">oid_map_type</a> = OidMap</td></tr>
<tr class="memdesc:a1368fcb78270380aa59c22f4f48fb1c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Oid map of types that are used with the connection. <br /></td></tr>
<tr class="separator:a1368fcb78270380aa59c22f4f48fb1c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0e04e5de1806fcf4a12f0459ce34aee"><td class="memItemLeft" align="right" valign="top"><a id="ad0e04e5de1806fcf4a12f0459ce34aee"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#ad0e04e5de1806fcf4a12f0459ce34aee">error_context_type</a> = std::string</td></tr>
<tr class="memdesc:ad0e04e5de1806fcf4a12f0459ce34aee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional error context which could provide context depended information for errors. <br /></td></tr>
<tr class="separator:ad0e04e5de1806fcf4a12f0459ce34aee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59f54e5a35d6ac7d2c74296755a64998"><td class="memItemLeft" align="right" valign="top"><a id="a59f54e5a35d6ac7d2c74296755a64998"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#a59f54e5a35d6ac7d2c74296755a64998">executor_type</a> = io_context::executor_type</td></tr>
<tr class="memdesc:a59f54e5a35d6ac7d2c74296755a64998"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of the executor associated with the object. <br /></td></tr>
<tr class="separator:a59f54e5a35d6ac7d2c74296755a64998"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7967dd5783eb81e01312a514b20c4761"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#a7967dd5783eb81e01312a514b20c4761">connection</a> (io_context &amp;io, Statistics statistics)</td></tr>
<tr class="separator:a7967dd5783eb81e01312a514b20c4761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b2c313d1850f8df4cccdd0a84a09d5b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classozo_1_1connection.html#ada16c3ba50d323534056665247a85077">native_handle_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#a3b2c313d1850f8df4cccdd0a84a09d5b">native_handle</a> () const noexcept</td></tr>
<tr class="separator:a3b2c313d1850f8df4cccdd0a84a09d5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a628fd741dc84614c918244be7b703fbe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classozo_1_1connection.html#a1368fcb78270380aa59c22f4f48fb1c8">oid_map_type</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#a628fd741dc84614c918244be7b703fbe">oid_map</a> () noexcept</td></tr>
<tr class="separator:a628fd741dc84614c918244be7b703fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8876de40fc7116518f9be52782fcc47c"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classozo_1_1connection.html#a1368fcb78270380aa59c22f4f48fb1c8">oid_map_type</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#a8876de40fc7116518f9be52782fcc47c">oid_map</a> () const noexcept</td></tr>
<tr class="separator:a8876de40fc7116518f9be52782fcc47c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab44baf7fe9d86cfdb6487b5edea1757a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classozo_1_1connection.html#ad0e04e5de1806fcf4a12f0459ce34aee">error_context_type</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#ab44baf7fe9d86cfdb6487b5edea1757a">get_error_context</a> () const noexcept</td></tr>
<tr class="separator:ab44baf7fe9d86cfdb6487b5edea1757a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90c6f87df66b8fbf06da973547d29aaf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#a90c6f87df66b8fbf06da973547d29aaf">set_error_context</a> (<a class="el" href="classozo_1_1connection.html#ad0e04e5de1806fcf4a12f0459ce34aee">error_context_type</a> v=<a class="el" href="classozo_1_1connection.html#ad0e04e5de1806fcf4a12f0459ce34aee">error_context_type</a>{})</td></tr>
<tr class="separator:a90c6f87df66b8fbf06da973547d29aaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a553c4b390daa98a90c8fdbf15bbff488"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classozo_1_1connection.html#a59f54e5a35d6ac7d2c74296755a64998">executor_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#a553c4b390daa98a90c8fdbf15bbff488">get_executor</a> () const noexcept</td></tr>
<tr class="separator:a553c4b390daa98a90c8fdbf15bbff488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad91547051f04b8c15dfefb305aac6e69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group-errors.html#ga8757df037905ea8c9b69073e350dd731">error_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#ad91547051f04b8c15dfefb305aac6e69">assign</a> (ozo::pg::conn &amp;&amp;handle)</td></tr>
<tr class="separator:ad91547051f04b8c15dfefb305aac6e69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a811d99b715435e703365d0b23cd4e0f7"><td class="memItemLeft" align="right" valign="top">ozo::pg::conn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#a811d99b715435e703365d0b23cd4e0f7">release</a> ()</td></tr>
<tr class="separator:a811d99b715435e703365d0b23cd4e0f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a501eac56bb65ad66cdf2d8450269bdf5"><td class="memTemplParams" colspan="2">template&lt;typename WaitHandler &gt; </td></tr>
<tr class="memitem:a501eac56bb65ad66cdf2d8450269bdf5"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#a501eac56bb65ad66cdf2d8450269bdf5">async_wait_write</a> (WaitHandler &amp;&amp;handler)</td></tr>
<tr class="separator:a501eac56bb65ad66cdf2d8450269bdf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7403b282484b70b0dbcaf7055ca822cb"><td class="memTemplParams" colspan="2">template&lt;typename WaitHandler &gt; </td></tr>
<tr class="memitem:a7403b282484b70b0dbcaf7055ca822cb"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#a7403b282484b70b0dbcaf7055ca822cb">async_wait_read</a> (WaitHandler &amp;&amp;handler)</td></tr>
<tr class="separator:a7403b282484b70b0dbcaf7055ca822cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0afced25d9aba205d9ef9e822cccd6e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group-errors.html#ga8757df037905ea8c9b69073e350dd731">error_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#a0afced25d9aba205d9ef9e822cccd6e7">close</a> () noexcept</td></tr>
<tr class="separator:a0afced25d9aba205d9ef9e822cccd6e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9a0c0f86de820a6f170db909232e8bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#aa9a0c0f86de820a6f170db909232e8bb">cancel</a> () noexcept</td></tr>
<tr class="separator:aa9a0c0f86de820a6f170db909232e8bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab161716d7c3da2ef6819eaca828f6cb3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#ab161716d7c3da2ef6819eaca828f6cb3">is_bad</a> () const noexcept</td></tr>
<tr class="separator:ab161716d7c3da2ef6819eaca828f6cb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89acfba2a6ccd3e9edc69cfba554604f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#a89acfba2a6ccd3e9edc69cfba554604f">operator bool</a> () const noexcept</td></tr>
<tr class="separator:a89acfba2a6ccd3e9edc69cfba554604f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9330240012e370e2348bc54bfcb9b77b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classozo_1_1connection.html#a9330240012e370e2348bc54bfcb9b77b">is_open</a> () const noexcept</td></tr>
<tr class="separator:a9330240012e370e2348bc54bfcb9b77b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructors</h2>
<a id="a7967dd5783eb81e01312a514b20c4761"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7967dd5783eb81e01312a514b20c4761">&#9670;&nbsp;</a></span>connection()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap , typename Statistics &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classozo_1_1connection.html">ozo::connection</a>&lt; OidMap, Statistics &gt;::<a class="el" href="classozo_1_1connection.html">connection</a> </td>
          <td>(</td>
          <td class="paramtype">io_context &amp;&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Statistics&#160;</td>
          <td class="paramname"><em>statistics</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Construct a new connection object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io</td><td>&mdash; execution context for IO operations associated with the object. </td></tr>
    <tr><td class="paramname">statistics</td><td>&mdash; initial statistics (not supported yet) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad91547051f04b8c15dfefb305aac6e69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad91547051f04b8c15dfefb305aac6e69">&#9670;&nbsp;</a></span>assign()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap , typename Statistics &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group-errors.html#ga8757df037905ea8c9b69073e350dd731">error_code</a> <a class="el" href="classozo_1_1connection.html">ozo::connection</a>&lt; OidMap, Statistics &gt;::assign </td>
          <td>(</td>
          <td class="paramtype">ozo::pg::conn &amp;&amp;&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Assign an existing native connection handle to the object.</p>
<p>Typically this function is used by the library within the connection establishing process. Users should not use it directly other than for a special purpose (e.g., special connection pool implementation and so on).</p>
<dl class="section warning"><dt>Warning</dt><dd>Don't call this function during any active operation executed on the object.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>&mdash; rvalue reference on a new handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error_code &mdash; error code of the function call. </dd></dl>

<p class="reference">References <a class="el" href="group__group-errors-errors.html#ggac6082be94aa8b21e440cab09413a91acad09a4fd4b22be76d041339f0426651ec">ozo::error::pq_socket_failed</a>.</p>

</div>
</div>
<a id="a7403b282484b70b0dbcaf7055ca822cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7403b282484b70b0dbcaf7055ca822cb">&#9670;&nbsp;</a></span>async_wait_read()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap , typename Statistics &gt; </div>
<div class="memtemplate">
template&lt;typename WaitHandler &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classozo_1_1connection.html">ozo::connection</a>&lt; OidMap, Statistics &gt;::async_wait_read </td>
          <td>(</td>
          <td class="paramtype">WaitHandler &amp;&amp;&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Asynchronously wait for the connection socket to become ready to read or to have pending error conditions.</p>
<p>Typically this function is used by the library within the connection establishing process and operation execution. Users should not use it directly other than for custom <code>libpq</code>-based opeartions.</p>
<dl class="section warning"><dt>Warning</dt><dd>The function is designated to the library operations use only. Don't call this function directly.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>&mdash; wait handler with <code>void(ozo::error_code, int=0)</code> signature. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a501eac56bb65ad66cdf2d8450269bdf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a501eac56bb65ad66cdf2d8450269bdf5">&#9670;&nbsp;</a></span>async_wait_write()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap , typename Statistics &gt; </div>
<div class="memtemplate">
template&lt;typename WaitHandler &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classozo_1_1connection.html">ozo::connection</a>&lt; OidMap, Statistics &gt;::async_wait_write </td>
          <td>(</td>
          <td class="paramtype">WaitHandler &amp;&amp;&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Asynchronously wait for the connection socket to become ready to write or to have pending error conditions.</p>
<p>Typically this function is used by the library within the connection establishing process and operation execution. Users should not use it directly other than for custom <code>libpq</code>-based opeartions.</p>
<dl class="section warning"><dt>Warning</dt><dd>The function is designated to the library operations use only. Don't call this function directly.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>&mdash; wait handler with <code>void(ozo::error_code, int=0)</code> signature. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa9a0c0f86de820a6f170db909232e8bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9a0c0f86de820a6f170db909232e8bb">&#9670;&nbsp;</a></span>cancel()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap , typename Statistics &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classozo_1_1connection.html">ozo::connection</a>&lt; OidMap, Statistics &gt;::cancel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Cancel all asynchronous operations associated with the connection.</p>
<p>This function causes all outstanding asynchronous operations to finish immediately, and the handlers for cancelled operations will be passed the <code>boost::asio::error::operation_aborted</code> error. </p>

</div>
</div>
<a id="a0afced25d9aba205d9ef9e822cccd6e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0afced25d9aba205d9ef9e822cccd6e7">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap , typename Statistics &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group-errors.html#ga8757df037905ea8c9b69073e350dd731">error_code</a> <a class="el" href="classozo_1_1connection.html">ozo::connection</a>&lt; OidMap, Statistics &gt;::close</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Close the connection.</p>
<p>Any asynchronous operations will be cancelled immediately, and will complete with the <code>boost::asio::error::operation_aborted</code> error.</p>
<dl class="section return"><dt>Returns</dt><dd>error_code - indicates what error occurred, if any. Note that, even if the function indicates an error, the underlying connection is closed. </dd></dl>

</div>
</div>
<a id="ab44baf7fe9d86cfdb6487b5edea1757a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab44baf7fe9d86cfdb6487b5edea1757a">&#9670;&nbsp;</a></span>get_error_context()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap , typename Statistics &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classozo_1_1connection.html#ad0e04e5de1806fcf4a12f0459ce34aee">error_context_type</a>&amp; <a class="el" href="classozo_1_1connection.html">ozo::connection</a>&lt; OidMap, Statistics &gt;::get_error_context </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the additional context object for an error that occurred during the last operation on the connection.</p>
<dl class="section return"><dt>Returns</dt><dd>const error_context_type&amp; &mdash; additional context for the error </dd></dl>

</div>
</div>
<a id="a553c4b390daa98a90c8fdbf15bbff488"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a553c4b390daa98a90c8fdbf15bbff488">&#9670;&nbsp;</a></span>get_executor()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap , typename Statistics &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classozo_1_1connection.html#a59f54e5a35d6ac7d2c74296755a64998">executor_type</a> <a class="el" href="classozo_1_1connection.html">ozo::connection</a>&lt; OidMap, Statistics &gt;::get_executor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the executor associated with the object.</p>
<dl class="section return"><dt>Returns</dt><dd>executor_type &mdash; executor object. </dd></dl>

</div>
</div>
<a id="ab161716d7c3da2ef6819eaca828f6cb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab161716d7c3da2ef6819eaca828f6cb3">&#9670;&nbsp;</a></span>is_bad()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap , typename Statistics &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classozo_1_1connection.html">ozo::connection</a>&lt; OidMap, Statistics &gt;::is_bad</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determine whether the connection is in bad state.</p>
<dl class="section return"><dt>Returns</dt><dd>false &mdash; connection established, and it is ok to execute operations </dd>
<dd>
true &mdash; connection is not established, no operation shall be performed, but an error context may be obtained via <code><a class="el" href="classozo_1_1connection.html#ab44baf7fe9d86cfdb6487b5edea1757a">get_error_context()</a></code> and <code><a class="el" href="group__group-connection-functions.html#gad1d7e52e998faef0eb5ea3767ca1ca70" title="Get native libpq error message.">ozo::error_message()</a></code>. </dd></dl>

<p class="reference">Referenced by <a class="el" href="classozo_1_1connection.html#a89acfba2a6ccd3e9edc69cfba554604f">ozo::connection&lt; OidMap, Statistics &gt;::operator bool()</a>.</p>

</div>
</div>
<a id="a9330240012e370e2348bc54bfcb9b77b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9330240012e370e2348bc54bfcb9b77b">&#9670;&nbsp;</a></span>is_open()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap , typename Statistics &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classozo_1_1connection.html">ozo::connection</a>&lt; OidMap, Statistics &gt;::is_open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determine whether the connection is open.</p>
<dl class="section return"><dt>Returns</dt><dd>false &mdash; connection is closed and no native handle associated with. </dd>
<dd>
true &mdash; connection is open and there is a native handle associated with. </dd></dl>

<p class="reference">References <a class="el" href="classozo_1_1connection.html#a3b2c313d1850f8df4cccdd0a84a09d5b">ozo::connection&lt; OidMap, Statistics &gt;::native_handle()</a>.</p>

</div>
</div>
<a id="a3b2c313d1850f8df4cccdd0a84a09d5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b2c313d1850f8df4cccdd0a84a09d5b">&#9670;&nbsp;</a></span>native_handle()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap , typename Statistics &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classozo_1_1connection.html#ada16c3ba50d323534056665247a85077">native_handle_type</a> <a class="el" href="classozo_1_1connection.html">ozo::connection</a>&lt; OidMap, Statistics &gt;::native_handle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get native connection handle object.</p>
<p>This function may be used to obtain the underlying representation of the connection. This is intended to allow access to native <code>libpq</code> functionality that is not otherwise provided.</p>
<dl class="section warning"><dt>Warning</dt><dd>Don't use the function with the <code>PQfinish</code> function. Use the <code><a class="el" href="classozo_1_1connection.html#a0afced25d9aba205d9ef9e822cccd6e7">close()</a></code> member function instead.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>native_handle_type &mdash; native connection handle. </dd></dl>

<p class="reference">Referenced by <a class="el" href="classozo_1_1connection.html#a9330240012e370e2348bc54bfcb9b77b">ozo::connection&lt; OidMap, Statistics &gt;::is_open()</a>.</p>

</div>
</div>
<a id="a8876de40fc7116518f9be52782fcc47c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8876de40fc7116518f9be52782fcc47c">&#9670;&nbsp;</a></span>oid_map() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap , typename Statistics &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classozo_1_1connection.html#a1368fcb78270380aa59c22f4f48fb1c8">oid_map_type</a>&amp; <a class="el" href="classozo_1_1connection.html">ozo::connection</a>&lt; OidMap, Statistics &gt;::oid_map </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a reference to an oid map object for types that are used with the connection.</p>
<dl class="section return"><dt>Returns</dt><dd>const oid_map_type&amp; &mdash; reference on oid map object. </dd></dl>

</div>
</div>
<a id="a628fd741dc84614c918244be7b703fbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a628fd741dc84614c918244be7b703fbe">&#9670;&nbsp;</a></span>oid_map() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap , typename Statistics &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classozo_1_1connection.html#a1368fcb78270380aa59c22f4f48fb1c8">oid_map_type</a>&amp; <a class="el" href="classozo_1_1connection.html">ozo::connection</a>&lt; OidMap, Statistics &gt;::oid_map </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a reference to an oid map object for types that are used with the connection. This method is used after connection establishing process to update the map.</p>
<dl class="section return"><dt>Returns</dt><dd>oid_map_type&amp; &mdash; reference on oid map object. </dd></dl>

</div>
</div>
<a id="a89acfba2a6ccd3e9edc69cfba554604f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89acfba2a6ccd3e9edc69cfba554604f">&#9670;&nbsp;</a></span>operator bool()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap , typename Statistics &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classozo_1_1connection.html">ozo::connection</a>&lt; OidMap, Statistics &gt;::operator bool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determine whether the connection is not in bad state.</p>
<dl class="section return"><dt>Returns</dt><dd>true &mdash; connection established, and it is ok to execute operations </dd>
<dd>
false &mdash; connection is not established, no operation shall be performed, but an error context may be obtained via <code><a class="el" href="classozo_1_1connection.html#ab44baf7fe9d86cfdb6487b5edea1757a">get_error_context()</a></code> and <code><a class="el" href="group__group-connection-functions.html#gad1d7e52e998faef0eb5ea3767ca1ca70" title="Get native libpq error message.">ozo::error_message()</a></code>. </dd></dl>

<p class="reference">References <a class="el" href="classozo_1_1connection.html#ab161716d7c3da2ef6819eaca828f6cb3">ozo::connection&lt; OidMap, Statistics &gt;::is_bad()</a>.</p>

</div>
</div>
<a id="a811d99b715435e703365d0b23cd4e0f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a811d99b715435e703365d0b23cd4e0f7">&#9670;&nbsp;</a></span>release()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap , typename Statistics &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">ozo::pg::conn <a class="el" href="classozo_1_1connection.html">ozo::connection</a>&lt; OidMap, Statistics &gt;::release</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release ownership of the native connection handle object.</p>
<p>This function may be used to obtain the underlying representation of the descriptor. After calling this function, <a class="el" href="classozo_1_1connection.html#a9330240012e370e2348bc54bfcb9b77b">is_open()</a> returns false. The caller is the owner for the connection descriptor. All outstanding asynchronous read or write operations will finish immediately, and the handlers for cancelled operations will be passed the <code>boost::asio::error::operation_aborted</code> error.</p>
<dl class="section return"><dt>Returns</dt><dd>ozo::pg::conn &mdash; native connection handle object </dd></dl>

</div>
</div>
<a id="a90c6f87df66b8fbf06da973547d29aaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90c6f87df66b8fbf06da973547d29aaf">&#9670;&nbsp;</a></span>set_error_context()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap , typename Statistics &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classozo_1_1connection.html">ozo::connection</a>&lt; OidMap, Statistics &gt;::set_error_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classozo_1_1connection.html#ad0e04e5de1806fcf4a12f0459ce34aee">error_context_type</a>&#160;</td>
          <td class="paramname"><em>v</em> = <code><a class="el" href="classozo_1_1connection.html#ad0e04e5de1806fcf4a12f0459ce34aee">error_context_type</a>{}</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the additional error context object. This function may be used to provide additional context-depended data that is related to the current operation error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>&mdash; new error context. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>ozo</b></li><li class="navelem"><a class="el" href="classozo_1_1connection.html">connection</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
